-- Criação do banco de dados JogoClãDB
CREATE DATABASE JogoClãDB;
USE JogoClãDB;


-- Tabela Ligas e Pontuações de Cla
CREATE TABLE Liga (
    ID_Liga INT AUTO_INCREMENT PRIMARY KEY,
    Nome_Liga VARCHAR(20),
    Pontuacao_Minima INT,
    Pontuacao_Maxima INT
);


-- Tabela Clã
CREATE TABLE Cla (
    ID_Cla INT AUTO_INCREMENT PRIMARY KEY,
    Nome VARCHAR(255),
    Data_Criacao DATE,
    ID_Liga INT,
    FOREIGN KEY Cla(ID_Liga) REFERENCES Liga(ID_Liga)
);


-- Tabela Jogador
CREATE TABLE Jogador (
    ID_Jogador INT AUTO_INCREMENT PRIMARY KEY,
    Nome_Jogador VARCHAR(255),
    Data_Entrada DATE,
    Pontuacao_Total INT,
    ID_Cla INT,
    FOREIGN KEY Jogador(ID_Cla) REFERENCES Cla(ID_Cla)
);

-- Tabela Ataque
CREATE TABLE Ataque (
    ID_Ataque INT AUTO_INCREMENT PRIMARY KEY,
    ID_Jogador INT,
    N_Ataques INT,
    Vitorias INT,
    Derrotas INT,
    FOREIGN KEY (ID_Jogador) REFERENCES Jogador(ID_Jogador)
);

-- Tabela Evento
CREATE TABLE Evento (
    ID_Evento INT AUTO_INCREMENT PRIMARY KEY,
    Tipo VARCHAR(255),
    N_Semana INT
);

-- Tabela Relacionamento Cla_Evento
CREATE TABLE Cla_Evento (
    ID_Cla INT,
    ID_Evento INT,
    PRIMARY KEY (ID_Cla, ID_Evento),
    FOREIGN KEY (ID_Cla) REFERENCES Cla(ID_Cla),
    FOREIGN KEY (ID_Evento) REFERENCES Evento(ID_Evento)
);


INSERT INTO Liga (Nome_Liga, Pontuacao_Minima, Pontuacao_Maxima) VALUES
('Liga Bronze', 0, 600),
('Liga Prata', 601, 1500),
('Liga Ouro', 1501, 3000);

-- Inserindo dados na tabela Cla
INSERT INTO Cla (Nome, Data_Criacao, ID_Liga)
VALUES ('CelestialWolves', '2022-01-01', 2),
('FuryKnights', '2023-09-12', 2),
('GalacticStorm', '2024-07-23', 1),
('IronGuardians', '2020-05-27', 3);


-- Inserindo dados na tabela Jogador
INSERT INTO Jogador (Nome_Jogador, Data_Entrada, Pontuacao_Total, ID_Cla)
VALUES ('ThunderFury', '2024-08-01', 900, 1),
('BlazeKnight', '2024-08-02', 300, 2),
('FrostDragon', '2024-08-03', 100, 3),
('VortexLord', '2024-08-04', 200, 4),
('LightningRider', '2024-08-05', 400, 1),
('InfernoBeast', '2024-08-06', 800, 2),
('MysticMage', '2024-08-07', 600, 3),
('StormBreaker', '2024-08-08', 100, 4),
('FrostFury', '2024-08-09', 500, 1),
('DarkWarden', '2024-08-10', 300, 2),
('EmberWizard', '2024-08-11', 700, 3),
('IronTitan', '2024-08-12', 200, 4),
('CrystalCannon', '2024-08-13', 200, 1),
('PhantomAssassin', '2024-08-14', 300, 2),
('ThunderClash', '2024-08-15', 400, 3),
('FireStormer', '2024-08-16', 100, 4),
('ShadowWarrior', '2024-08-17', 600, 1),
('RadiantKnight', '2024-08-18', 300, 2),
('StormSage', '2024-08-19', 700, 3),
('InfernoSorcerer', '2024-08-20', 900, 4),
('FrostGiant', '2024-08-21', 200, 1),
('MysticBlaze', '2024-08-22', 100, 2),
('ThunderWarlock', '2024-08-23', 400, 3),
('FireGolem', '2024-08-24', 200, 4),
('ShadowHunter', '2024-08-25', 700, 1),
('IceSorcerer', '2024-08-26', 600, 2),
('VortexKnight', '2024-08-27', 600, 3),
('BlazeRanger', '2024-08-28', 800, 4),
('LightningMage', '2024-08-29', 100, 1),
('EmberGuardian', '2024-08-30', 500, 2),
('CrystalWarrior', '2024-08-31', 500, 3),
('PhantomSorcerer', '2024-08-01', 600, 4),
('StormVanguard', '2024-08-02', 300, 1),
('FrostWarlock', '2024-08-03', 700, 2),
('DarkSorcerer', '2024-08-04', 700, 3),
('ThunderFrost', '2024-08-05', 200, 4),
('FireKnight', '2024-08-06', 500, 1),
('ShadowGiant', '2024-08-07', 100, 2),
('RadiantWizard', '2024-08-08', 100, 3),
('StormWarrior', '2024-08-09', 900, 4),
('InfernoKnight', '2024-08-10', 800, 1),
('MysticGolem', '2024-08-11', 200, 2),
('ThunderMage', '2024-08-12', 400, 3),
('BlazeSorcerer', '2024-08-13', 300, 4),
('FrostHunter', '2024-08-14', 600, 1),
('ShadowTitan', '2024-08-15', 100, 2),
('VortexSorcerer', '2024-08-16', 400, 3),
('FireWarrior', '2024-08-17', 700, 4),
('CrystalMage', '2024-08-18', 200, 1),
('PhantomKnight', '2024-08-19', 400, 2),
('StormSorcerer', '2024-08-20', 500, 3),
('RadiantGolem', '2024-08-21', 500, 4),
('FrostGuardian', '2024-08-22', 200, 1),
('DarkMage', '2024-08-23', 600, 2),
('ThunderWarrior', '2024-08-24', 700, 3),
('EmberKnight', '2024-08-25', 100, 4),
('BlazeGuardian', '2024-08-26', 900, 1),
('ShadowGolem', '2024-08-27', 900, 2),
('MysticTitan', '2024-08-28', 300, 3),
('StormRider', '2024-08-29', 400, 4),
('InfernoHunter', '2024-08-30', 500, 1),
('VortexWizard', '2024-08-31', 400, 2),
('FireSorcerer', '2024-08-01', 700, 3),
('FrostRider', '2024-08-02', 100, 4),
('PhantomMage', '2024-08-03', 200, 1),
('CrystalSorcerer', '2024-08-04', 600, 2),
('ThunderGuardian', '2024-08-05', 100, 3),
('ShadowWarlock', '2024-08-06', 100, 4),
('BlazeMage', '2024-08-07', 300, 1),
('RadiantSorcerer', '2024-08-08', 1200, 2),
('StormTitan', '2024-08-09', 900, 3),
('InfernoRanger', '2024-08-10', 700, 4),
('MysticGuardian', '2024-08-11', 500, 1),
('FrostSorcerer', '2024-08-12', 400, 2),
('DarkGuardian', '2024-08-13', 400, 3),
('ThunderRanger', '2024-08-14', 300, 4),
('FireTitan', '2024-08-15', 300, 1),
('ShadowSorcerer', '2024-08-16', 700, 2),
('CrystalWarlock', '2024-08-17', 200, 3),
('StormMage', '2024-08-18', 100, 4),
('InfernoWizard', '2024-08-19', 500, 1),
('PhantomWarrior', '2024-08-20', 500, 2),
('BlazeWarlock', '2024-08-21', 700, 3),
('RadiantMage', '2024-08-22', 300, 4),
('FrostKnight', '2024-08-23', 100, 1),
('VortexWarrior', '2024-08-24', 300, 2),
('ThunderSorcerer', '2024-08-25', 500, 3),
('FireMage', '2024-08-26', 800, 4),
('ShadowRider', '2024-08-27', 700, 1),
('StormGuardian', '2024-08-28', 500, 2),
('MysticSorcerer', '2024-08-29', 300, 3),
('FrostTitan', '2024-08-30', 600, 4),
('DarkKnight', '2024-08-31', 200, 1),
('BlazeFury', '2024-08-01', 900, 2),
('PhantomRider', '2024-08-02', 1200, 3),
('CrystalWarrior', '2024-08-03', 300, 4),
('ThunderSorcerer', '2024-08-04', 500, 1),
('RadiantTitan', '2024-08-05', 900, 2),
('FireWarlock', '2024-08-06', 100, 3),
('GalacticVortex', '2024-08-07', 300, 4),
('EclipseWarrior', '2024-08-08', 200, 1);

-- Inserindo dados na tabela Ataque
INSERT INTO Ataque (ID_Jogador, N_Ataques, Vitorias, Derrotas)
VALUES (1, 10, 4, 6),
(2, 10, 6, 4),
(3, 12, 6, 6),
(4, 17, 9, 8),
(5, 9, 4, 5),
(6, 5, 3, 2),
(7, 10, 4, 6),
(8, 13, 7, 6),
(9, 15, 8, 7),
(10, 19, 9, 10),
(11, 2, 0, 2),
(12, 7, 4, 3),
(13, 9, 5, 4),
(14, 2, 2, 0),
(15, 11, 5, 6),
(16, 17, 7, 10),
(17, 15, 9, 6),
(18, 12, 6, 6),
(19, 10, 4, 6),
(20, 7, 4, 3),
(21, 2, 1, 1),
(22, 1, 1, 0),
(23, 15, 7, 8),
(24, 13, 7, 6),
(25, 16, 10, 6),
(26, 7, 3, 4),
(27, 9, 4, 6),
(28, 13, 7, 6),
(29, 11, 5, 6),
(30, 20, 10, 10),
(31, 17, 10, 7),
(32, 13, 3, 10),
(33, 18, 10, 8),
(34, 8, 4, 4),
(35, 12, 6, 6),
(36, 15, 7, 8),
(37, 9, 6, 3),
(38, 2, 1, 1),
(39, 1, 1, 0),
(40, 15, 9, 6),
(41, 7, 4, 3),
(42, 12, 6, 6),
(43, 12, 9, 3),
(44, 19, 10, 9),
(45, 15, 10, 5),
(46, 20, 16, 5),
(47, 14, 4, 10),
(48, 13, 7, 6),
(49, 9, 4, 5),
(50, 12, 3, 9),
(51, 5, 3, 2),
(52, 3, 0, 3),
(53, 11, 6, 5),
(54, 14, 7, 7),
(55, 19, 10, 9),
(56, 12, 6, 6),
(57, 11, 6, 5),
(58, 9, 5, 4),
(59, 18, 8, 10),
(60, 9, 5, 4),
(61, 2, 1, 1),
(62, 15, 9, 6),
(63, 11, 10, 1),
(64, 17, 17, 0),
(65, 7, 3, 4),
(66, 9, 5, 4),
(67, 3, 1, 2),
(68, 6, 4, 2),
(69, 7, 4, 3),
(70, 9, 5, 4),
(71, 11, 8, 3),
(72, 5, 3, 2),
(73, 7, 4, 4),
(74, 12, 6, 6),
(75, 9, 5, 4),
(76, 2, 0, 2),
(77, 15, 12, 3),
(78, 17, 7, 10),
(79, 11, 5, 6),
(80, 13, 6, 7),
(81, 9, 4, 5),
(82, 9, 5, 4),
(83, 5, 3, 2),
(84, 10, 5, 5),
(85, 10, 0, 10),
(86, 7, 3, 4),
(87, 12, 6, 6),
(88, 11, 6, 5),
(89, 8, 4, 4),
(90, 20, 12, 8),
(91, 2, 2, 0),
(92, 13, 7, 6),
(93, 8, 4, 4),
(94, 2, 0, 2),
(95, 7, 5, 2),
(96, 4, 4, 0),
(97, 11, 4, 7),
(98, 15, 2, 13),
(99, 12, 6, 6),
(100, 10, 4, 6),
(101, 7, 7, 0);

-- Inserindo dados na tabela Evento
INSERT INTO Evento (Tipo, N_Semana)
VALUES ('Regata Fluvial', 1),
('Reinado do Dragão', 2),
('Tempestade de Fogo', 3),
('Coliseu', 4),
('Desafio dos Cavaleiros', 5),
('Festival dos Magos', 6),
('Guerra dos Clãs', 7),
('Aventura dos Titãs', 8),
('Batalha das Sombras', 9),
('Ascensão dos Imperadores', 10),
('Mestre das Arenas', 11),
('Confronto das Lendas', 12),
('Desafio das Criptas', 13),
('Rivalidade dos Gigantes', 14),
('O Grande Cerco', 15),
('Estratégia das Tormentas', 16),
('Torneio dos Heróis', 17),
('Expedição das Terras Desconhecidas', 18),
('Guerra dos Elementos', 19),
('Invocação das Bestas', 20),
('Desafio do Eclipse', 21),
('Guerra dos Magos', 22),
('Lenda dos Conquistadores', 23),
('Rumo ao Trono', 24),
('Cerimônia dos Campeões', 25),
('Regata Fluvial', 26),
('Reinado do Dragão', 27),
('Tempestade de Fogo', 28),
('Coliseu', 29),
('Desafio dos Cavaleiros', 30),
('Festival dos Magos', 31),
('Guerra dos Clãs', 32),
('Aventura dos Titãs', 33),
('Batalha das Sombras', 34),
('Ascensão dos Imperadores', 35),
('Mestre das Arenas', 36),
('Confronto das Lendas', 37),
('Desafio das Criptas', 38),
('Rivalidade dos Gigantes', 39),
('O Grande Cerco', 40),
('Estratégia das Tormentas', 41),
('Torneio dos Heróis', 42),
('Expedição das Terras Desconhecidas', 43),
('Guerra dos Elementos', 44),
('Invocação das Bestas', 45),
('Desafio do Eclipse', 46),
('Guerra dos Magos', 47),
('Lenda dos Conquistadores', 48),
('Rumo ao Trono', 49),
('Cerimônia dos Campeões', 50),
('Regata Fluvial', 51),
('Reinado do Dragão', 52),
('Tempestade de Fogo', 53),
('Coliseu', 54),
('Desafio dos Cavaleiros', 55),
('Festival dos Magos', 56),
('Guerra dos Clãs', 57),
('Aventura dos Titãs', 58),
('Batalha das Sombras', 59),
('Ascensão dos Imperadores', 60),
('Mestre das Arenas', 61),
('Confronto das Lendas', 62),
('Desafio das Criptas', 63),
('Rivalidade dos Gigantes', 64),
('O Grande Cerco', 65),
('Estratégia das Tormentas', 66),
('Torneio dos Heróis', 67),
('Expedição das Terras Desconhecidas', 68),
('Guerra dos Elementos', 69),
('Invocação das Bestas', 70),
('Desafio do Eclipse', 71),
('Guerra dos Magos', 72),
('Lenda dos Conquistadores', 73),
('Rumo ao Trono', 74),
('Cerimônia dos Campeões', 75),
('Regata Fluvial', 76),
('Reinado do Dragão', 77),
('Tempestade de Fogo', 78),
('Coliseu', 79),
('Desafio dos Cavaleiros', 80),
('Festival dos Magos', 81),
('Guerra dos Clãs', 82),
('Aventura dos Titãs', 83),
('Batalha das Sombras', 84),
('Ascensão dos Imperadores', 86),
('Mestre das Arenas', 86),
('Confronto das Lendas', 87),
('Desafio das Criptas', 88),
('Rivalidade dos Gigantes', 89),
('O Grande Cerco', 90),
('Estratégia das Tormentas', 91),
('Torneio dos Heróis', 92),
('Expedição das Terras Desconhecidas', 93),
('Guerra dos Elementos', 94),
('Invocação das Bestas', 95),
('Desafio do Eclipse', 96),
('Guerra dos Magos', 97),
('Lenda dos Conquistadores', 98),
('Rumo ao Trono', 99),
('Cerimônia dos Campeões', 100),
('Regata Fluvial', 101);

-- Relacionamento Cla_Evento
INSERT INTO Cla_Evento (ID_Cla, ID_Evento)
VALUES (1, 1),
(2, 1),
(3, 1),
(4, 1),
(1, 2),
(2, 2),
(3, 3),
(4, 2),
(1, 5),
(2, 3),
(3, 7),
(4, 3),
(1, 7),
(2, 4),
(3, 9),
(4, 4),
(1, 9),
(2, 5),
(3, 12),
(4, 5),
(1, 10),
(2, 6),
(3, 15),
(4, 6),
(1, 15),
(2, 7),
(3, 16),
(4, 7),
(1, 23),
(2, 8),
(3, 17),
(4, 8),
(1, 27),
(2, 9),
(3, 18),
(4, 9),
(1, 30),
(2, 10),
(3, 19),
(4, 10),
(1, 31),
(2, 20),
(3, 23),
(4, 11),
(1, 32),
(2, 25),
(3, 27),
(4, 12),
(1, 33),
(2, 30),
(3, 29),
(4, 13),
(1, 38),
(2, 35),
(3, 35),
(4, 14),
(1, 39),
(2, 40),
(3, 42),
(4, 15),
(1, 40),
(2, 45),
(3, 44),
(4, 16),
(1, 42),
(2, 50),
(3, 47),
(4, 17),
(1, 48),
(2, 55),
(3, 48),
(4, 18),
(1, 50),
(2, 60),
(3, 49),
(4, 19),
(1, 52),
(2, 65),
(3, 50),
(4, 20),
(1, 54),
(2, 70),
(3, 53),
(4, 21),
(1, 59),
(2, 75),
(3, 55),
(4, 22),
(1, 75),
(2, 80),
(3, 58),
(4, 23),
(1, 76),
(2, 85),
(3, 59),
(4, 24),
(1, 77),
(2, 90),
(3, 70),
(1, 101),
(2, 95),
(2, 100),
(3, 72),
(3, 78),
(3, 82),
(3, 85),
(3, 93),
(3, 99),
(3, 100),
(4, 25),
(4, 26),
(4, 27),
(4, 28),
(4, 29),
(4, 30),
(4, 31),
(4, 32),
(4, 33),
(4, 34),
(4, 35),
(4, 36),
(4, 37),
(4, 38),
(4, 39),
(4, 40),
(4, 41),
(4, 42),
(4, 43),
(4, 44),
(4, 45),
(4, 46),
(4, 47),
(4, 48),
(4, 49),
(4, 50),
(4, 51),
(4, 52),
(4, 53),
(4, 54),
(4, 55),
(4, 56),
(4, 57),
(4, 58),
(4, 59),
(4, 60),
(4, 61),
(4, 62),
(4, 63),
(4, 64),
(4, 65),
(4, 66),
(4, 67),
(4, 68),
(4, 69),
(4, 70),
(4, 71),
(4, 72),
(4, 73),
(4, 74),
(4, 75),
(4, 76),
(4, 77),
(4, 78),
(4, 79),
(4, 80),
(4, 81),
(4, 82),
(4, 83),
(4, 84),
(4, 85),
(4, 86),
(4, 87),
(4, 88),
(4, 89),
(4, 90),
(4, 91),
(4, 92),
(4, 93),
(4, 94),
(4, 95),
(4, 96),
(4, 97),
(4, 98),
(4, 99),
(4, 100),
(4, 101);

-- Concessão de privilégios ao usuário root
GRANT ALL PRIVILEGES ON JogoClãDB.* TO 'root'@'localhost';
FLUSH PRIVILEGES;

ALTER TABLE Cla ADD Emblema VARCHAR(255);

ALTER TABLE Cla MODIFY COLUMN Emblema VARCHAR(255) FIRST;
UPDATE `jogoclãdb`.`Cla` SET `Emblema` = 'https://www.clashroyaledicas.com/wp-content/uploads/2019/05/emote-carneiro-clash-royale.png' WHERE (`ID_Cla` = '1');
UPDATE `jogoclãdb`.`cla` SET `Emblema` = 'https://www.clashroyaledicas.com/wp-content/uploads/2019/05/emote-goblin-mostrando-lingua-clash-royale.png' WHERE (`ID_Cla` = '2');
UPDATE `jogoclãdb`.`cla` SET `Emblema` = 'https://www.clashroyaledicas.com/wp-content/uploads/2019/05/emote-princesa-musculosa-clash-royale.png' WHERE (`ID_Cla` = '3');
UPDATE `jogoclãdb`.`cla` SET `Emblema` = 'https://www.clashroyaledicas.com/wp-content/uploads/2019/05/emote-corredor-beijando-clash-royale.png' WHERE (`ID_Cla` = '4');
